<!DOCTYPE html>
<html>
  <!--
  Page principale, les applications sont lancées dans un iFrame.
  L'objectif et de garder une connection synchrone en utilisant socket.io. et éviter le rafraichissement et donc la deconnection de l'utilisateur.
  -->
  <head>
    <meta charset="utf-8">

    <!-- Base d'adresse par défaut --->
    <!-- <base href="/static/"/> -->

    <link rel="stylesheet" href="static/css/normalize.css" media="screen" title="no title" charset="utf-8">
    <!-- Mon style -->
    <link rel="stylesheet" href="static/css/base.css" media="screen" title="no title" charset="utf-8">

    <!-- Dépendances js -->
    <script src="static/js/socket.io.js" charset="utf-8"></script>
    <script src="static/js/jquery-3.2.1.js" charset="utf-8"></script>


    <title>Cyborg - Platform</title>
  </head>
  <body>
    <header id=header>
      <ul>
        <li> <a href="#home"><img src="static/img/gears.svg"   alt="settings" /></a></li>
        <li> <a href="#news"><img src="static/img/speaker.svg"  alt="sound" /></a></li>
        <li id="numberOfPlayer"></li>
        <li style="float:right">
          <img src="static/img/cyborg-face.svg" alt="number of player" />
        </li>

      </ul>

      <!-- <a href="#home"><img src="static/img/gears.svg"   alt="settings" /></a> -->


    </header>
    <section id="main">
      <iframe id="mainFrame" sandbox="allow-forms allow-scripts allow-same-origin allow-top-navigation" src="welcome" seamless="">
        <p>Sorry, your browser does not support iframes. You can't use Cyborg for the moment :s Pieg.</p>
      </iframe>
    </section>
    <footer id="annonce">
      Bienvenue sur Cyborg !
    </footer>

  </body>
  <script type="text/javascript">
  player = {};
  player.socket = io();

  //document.getElementById("mainFrame").src = "page"


  /**
  * Gestion du temps réel
  *
  */
  player.socket.on('annonce', function (val) {
    $('#annonce').html(val);
  });

  player.socket.on('numberOfPlayer', function (val) {
    $('#numberOfPlayer').html(val);
  });



  </script>
</html>
